<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/main.css" />
    <title>Parallax Effect</title>
  </head>
  <body>
    <section class="top">scroll down...</section>

    <section class="container">
      <div class="wrapper">
        <h1 class="text-mask">
          <span>The Warrior Awaits</span>
        </h1>
        <div class="bg2"></div>
        <div class="mountains"></div>
        <div class="soldier"></div>
      </div>
    </section>

    <!-- We need this section to have enough room for scrolling -->
    <section></section>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/gsap.min.js"
      integrity="sha512-qF6akR/fsZAB4Co1QDDnUXWnaQseLGXoniuSuSlPQK6+aWhlMZcHzkasCSlnWoe+TJuudlka1/IQ01Dnhgq95g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollTrigger.min.js"
      integrity="sha512-IHDCHrefnBT3vOCsvdkMvJF/MCPz/nBauQLzJkupa4Gn4tYg5a6VGyzIrjo6QAUy3We5HFOZUlkUpP0dkgE60A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>

    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@0.2.28/bundled/lenis.js"></script>

    <script>
      const lenis = new Lenis({});

      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }

      requestAnimationFrame(raf);

      const bg1 = document.querySelector(".wrapper");
      const bg2 = document.querySelector(".bg2");
      const mountains = document.querySelector(".mountains");
      const soldier = document.querySelector(".soldier");
      const h1 = document.querySelector("h1 span");

      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".wrapper",
          start: "top bottom",
          scrub: 1,
        },
      });

      gsap.set(soldier, { scale: 0.8 });

      tl.to(mountains, { scale: 1.4, y: 30 }).to(
        soldier,
        { scale: 1.7, y: 90 },
        0
      );

      gsap.from(h1, {
        yPercent: 100,
        scrollTrigger: {
          trigger: h1,
          start: "top bottom",
          scrub: 1,
        },
      });
    </script>
  </body>
</html>
